# Plan 04-03: Character Classes & Unlocks

## Goal
Add multiple character classes with distinct playstyles and an unlock system.

## Requirements
1.  **Class Definitions**:
    - `Warrior` (Default): Balanced.
    - `Rogue`: High Crit/Speed/Dmg, Low HP.
    - `Tank`: High HP/Def, Low Dmg.
2.  **Unlock System**:
    - Classes tracked in `SaveData.unlockedClasses`.
    - Unlock conditions (simple for now: purchase with Gold, or free for testing).
3.  **Character Select Screen**:
    - Before `GameScene` (or part of MainMenu).
    - Show stats for selected class.
    - "Select" button to start run with that class.
4.  **Game Integration**:
    - Pass selected class to `GameScene`.
    - `Player` entity initializes with class-specific base stats and sprite (tint/texture).

## Detailed Steps
1.  **Define Classes**:
    - Create `src/data/Classes.ts`.
    - Interface `ClassData`: `id`, `name`, `description`, `baseStats` (`hp`, `atk`, `def`), `unlockCost`.
2.  **Update `ProgressionManager`**:
    - Add `unlockedClasses: string[]` to `SaveData`.
    - Add `unlockClass(id)` method.
3.  **Create `CharacterSelectScene.ts`**:
    - Show list of classes.
    - If locked: show Cost and "Unlock" button.
    - If unlocked: show "Play" button.
4.  **Update `GameScene`**:
    - Accept `classId` in `init()` data.
    - Pass `classId` to `Player`.
5.  **Refactor `Player.ts`**:
    - Apply class base stats *before* adding persistent upgrades.
    - Change visual appearance based on class (e.g., tint color for now: Warrior=Blue, Rogue=Green, Tank=Red).

## Acceptance Criteria
- [ ] Character Select screen shows available classes.
- [ ] Can unlock a new class with Gold.
- [ ] Locked classes cannot be played.
- [ ] Starting as "Rogue" results in different starting stats/color than "Warrior".
